---
title: "2020 House Elections - Party Affiliation Analysis"
author: "Samuel Swank"
date: "April 2st, 2021"
output: html_notebook
---

# Background

|   This project grew out of [one which I had previously completed in Python](https://github.com/shengjiyang/2016-House-Election) examining how demographic factors were associated with party affiliation in the 2016 House Election. Due to time constraints, the demographic data used in the original project were limited to ethno-racial data. Thanks to the Census Bureau's [My Congressional District app](https://www.census.gov/mycd/) making the relevant data readily available by House district in *.csv* files, I was able to significantly expand the number of different demographic categories used in this project. For a full descriptive list of all the data used in this project see the data dictionary available in this project's [GitHub repository](https://github.com/shengjiyang/2020-House-Flipped-Seats). Thanks to the [CARES Act](https://home.treasury.gov/policy-issues/cares) providing grant money to local Universities to help individuals transition to more secure jobs, I had access, free of charge, to an *Intermediate R Coding* course where I learned to build a [corresponding shiny app](https://samuelswank.shinyapps.io/2020-House-Results/) to this *RPubs notebook*. For a full list of all the resources and packages used in the app's creation and in this notebook, see the README of the above-mentioned [GitHub repository](https://github.com/shengjiyang/2020-House-Flipped-Seats).

\  

## Research Question

|   The questions this project set out to answer are **what demographic factors were most strongly associated with a given district's party affiliation**, and **what characterized those districts which had sent a representative of one of the two major parties to congress in the previous election, but elected a representative of the opposite major party in the 2020 election**. This project was originally intended to include predictive models to address both these questions, but due to statistical issues with the latter, this analysis had been performed in a non-predictive manner in this notebook.

\  

|   The answer to the first question is fairly straightforward: higher ratios of those demographics correlated with a high population density were characteristic of Democratic districts; whereas, those demographics correlated with a lower population density were characteristic of Republican districts. The answer to the second question is more varied, with differences in *ethnicity*, *place of birth*, *age*, and *race* being potential indicators that some districts might *flip party*. Some *flipped districts* were also characterized as being the *urban centers* of *Republican* states. Ultimately, though demographics and geography did influence voters' policy preferences, which party's candidate won out in those *flipped districts* was ultimately determined by those candidates character and voting records.

# Model

## Methodology

### Preprocessing

|   The Census Bureau's estimates from the *2019 American Community Survey* were taken, and wherein it was reasonable to do so, these estimates were converted from their raw values to percentages of the estimated population of the district. For the sake of simplicity, the *margin of error* was not taken into account. These data were then standardized to account for those statistics, such as *median rent*, *median household income*, *etc.*, for which no percentage was taken.

\  

### Model Selection and Performance Metrics

|   I had initially wanted to replicate [the previous project's use of Logistic Regression](https://medium.com/swlh/democrat-or-republican-politics-and-logistic-regression-7639648be5f0) due to the method's simplicity and ease of interpretation for binary classification problems such as this one, but I later found R's implementations of the algorithm to be less friendly than Python's, so a *Random Forest* model was used instead. The `randomForest` package was used with all of the `randomForest` method's default parameters. Given that this was a classification problem, the relevant parameters were as follows: 

- `ntree = 500` 
- `replace = TRUE` 
- `nodesize = 1`
- `maxnodes = NULL`

|   Essentially the forest was composed of a healthy number of 500 trees with replacement sampling and no additional regularization for minimum node size or the maximum number of nodes used in a given tree. The model performance metrics were as follows.

```{r include=FALSE}
# Used
# randomForest
# yardstick

# tidyverse

# - tidyr
# - dplyr

# ggrepel

# knitr

# Attached
# graph
# igraph

library(knitr)
library(scales)
library(gridExtra)
source("helpers/model/modelInfo.R")
source("helpers/plotting/map.R")
source("notebook/densityAnalysis.R")
```

```{r}
summary(testCM) %>% select(.metric, .estimate) %>% filter(
  .metric == "accuracy" |
  .metric == "bal_accuracy" |
  .metric == "mcc" |
  .metric == "precision" |
  .metric == "recall" | 
  .metric == "f_meas"
)
```

|   Considering that this is a fairly balanced classification problem with Democrats controlling `r sprintf("%.2f", (nrow(df %>% filter(party == "D")) / nrow(df)) * 100)`% of all House seats, and Republicans `r sprintf("%.2f", (nrow(df %>% filter(party == "R")) / nrow(df)) * 100)`%, *accuracy* by itself is a sufficient measure of model performance, beating a **baseline** prediction of `r sprintf("%.4f", (nrow(df %>% filter(party == "D")) / nrow(df)))`, wherein all districts where assumed to vote Democrat, by `r sprintf("%.4f", (summary(testCM) %>% filter(.metric == "precision") %>% pull(.estimate)) - (nrow(df %>% filter(party == "D")) / nrow(df)))`. For the sake of thoroughness, however, taking Republican as our positive case, as the model does, a *precision* of `r sprintf("%.4f", summary(testCM) %>% filter(.metric == "precision") %>% pull(.estimate))` indicates that model does a more than adequate job of not selecting true positives while keeping the false positive count fairly low. A lower *recall* of `r sprintf("%.4f", summary(testCM) %>% filter(.metric == "recall") %>% pull(.estimate))` indicates that there are still a moderate number of Republican districts which have been miss-classified as Democratic districts, a clear weakness of the model. Overall, an *F-score* of `r sprintf("%.4f", summary(testCM) %>% filter(.metric == "f_meas") %>% pull(.estimate))` and a [*Matthew's Correlation Coefficient (MCC)*](https://towardsdatascience.com/the-best-classification-metric-youve-never-heard-of-the-matthews-correlation-coefficient-3bf50a2f3e9a) of `r sprintf("%.4f", summary(testCM) %>% filter(.metric == "mcc") %>% pull(.estimate))` indicate sufficient model performance for real-world relationships to be gleaned from the data. It should be noted that the *MCC* is measured on a scale from -1 to +1, so a score of `r sprintf("%.4f", summary(testCM) %>% filter(.metric == "mcc") %>% pull(.estimate))` is by no means poor.

\  

### Statistical Insights

|   Examining the *mean decrease in Gini impurity*, a measure which indicates the degree to which a given variable plays a role in classifying the data, we find that the following ten variables contributed the most to the model's final prediction.

```{r include = FALSE}
top.ten <- topTen
colnames(top.ten)[1] <- "Mean Decrease in Gini Impurity"
```

```{r echo=FALSE}
top.ten
```

|   Though the *mean decrease in Gini impurity* tells us the importance of a given variable in the model's classification of a district as either Democrat or Republican, it does not tell us what relationship these variables have to the target variable. Looking at individual trees from the forest may give us a clue. Due to the sheer number of trees in our Random Forest model, however, it cannot be assumed that any given tree would perform well enough as a predictor to represent the Forest as a whole. At this stage, a graphical approach looking at individual, randomly-selected, representative voting districts seems to be the most intuitive approach.

\  

|   Given the demographics with the highest *mean decrease in Gini impurity*, the graphs below will represent the following categories:

- Race
- Place of Birth
- Commuter Method
- Housing

\  

|   In order to display this information, we will need to use our model's data prior to standardization, coupled with appropriate helper functions to aid in extracting and plotting the appropriate data.

```{r include=FALSE}
modelData <- read_csv("data/census/demographics/preprocessed/modelData.csv")

colnames(modelData)[1] <- "district"
modelData <- as.data.frame(modelData)
rownames(modelData) <- modelData$district
modelData <- modelData[, 2:(ncol(modelData) - 1)]

modelData[272, "party"]   <- "R"
```

```{r}
modelData
```

\  

#### **Helper Functions**
```{r}
# '%!in%' <- Not In Operator
'%!in%' <- function(x,y){!('%in%'(x,y))}

# chartData <- function for extracting appropriate data from modelData data.frame
#              and converting from percentage to integers for use in graphs shown
#              below

chartData <- function(
  selectedDistrict, categories, grouping = NULL, n_seed = NULL
  ) {
  
  c <- c()
  for (i in 1:length(categories)) {
    c[i] <- (modelData[selectedDistrict, ] %>%
               select(categories) %>%
               .[[categories[i]]]) / 100
  }
  
  if (is.null(n_seed) == TRUE) {set.seed(n_seed)}
  
  # 710767 -> average_district_population
  sampleVec <- sample(categories, 710767, replace = TRUE, prob = c)
  counts <- table(sampleVec) %>% as.data.frame()
  
  # Accounting for groupings in bar chart
  if (is.null(grouping) == FALSE) {
    counts$group <- grouping
  }
  
  return(as.data.frame(counts))
}

# getRent <- function for extracting med_rent from modelData for use in density
#            plot

getRent <- function(selectedDistrict) {
  
  med_rent <- modelData[selectedDistrict, ] %>% pull(med_rent)
  
  return(as.character(med_rent))
}
```

```{r}
# plotState <- function for plotting party affiliation of state's members in the
#              nation's House of Representatives;
#              if predicted = FALSE, the actual results are displayed
#              else if predicted = TRUE, the model's predictions are displayed

plotState <- function(selectedState, predicted = FALSE) {
  if (predicted == TRUE) {
    if (selectedState == "Alaska") {
    ggplot() + 
      geom_sf(
        stateData(selectedState),
        mapping = aes(fill = predicted),
        size = 0.75,
        color = "black"
      ) +
      xlim(-180, -120) +
      scale_fill_manual(values = c("R" = "#D20F26", "D" = "#1B4E81")) +
      ggtitle("Predicted") +
      theme(
        panel.background = element_blank(),
        plot.title = titleFormat,
        axis.text = element_blank(),
        axis.ticks = element_blank(),
        legend.position = "none"
      )
  } else if (selectedState %in% atLarge | selectedState == "Hawaii") {
    ggplot() + 
      geom_sf(
        stateData(selectedState),
        mapping = aes(fill = predicted),
        size = 0.75,
        color = "black"
      ) +
      scale_fill_manual(values = c("R" = "#D20F26", "D" = "#1B4E81")) +
      ggtitle("Predicted") +
      theme(
        panel.background = element_blank(),
        plot.title = titleFormat,
        axis.title.y = element_blank(),
        axis.text = element_blank(),
        axis.ticks = element_blank(),
        legend.position = "none"
      )
  } else {
    ggplot() + 
      geom_sf(
        stateData(selectedState),
        mapping = aes(fill = predicted),
        size = 0.75,
        color = "black"
        ) +
      geom_text_repel(
        stateData(selectedState),
        mapping = aes(X, Y, label = district_label), 
        fontface = "bold",
        size = 5,
        segment.linetype = 1,
        max.overlaps = 10
        ) +
      scale_fill_manual(values = c("R" = "#D20F26", "D" = "#1B4E81")) +
      ggtitle("Predicted") +
      theme(
        panel.background = element_blank(),
        plot.title = titleFormat,
        axis.title.y = element_blank(),
        axis.text = element_blank(),
        axis.title.x = element_blank(),
        axis.ticks = element_blank(),
        legend.position = "none"
        )
    }
  } else if (predicted == FALSE) {
        if (selectedState == "Alaska") {
    ggplot() + 
      geom_sf(
        stateData(selectedState),
        mapping = aes(fill = party),
        size = 0.75,
        color = "black"
      ) +
      xlim(-180, -120) +
      scale_fill_manual(values = c("R" = "#D20F26", "D" = "#1B4E81")) +
      ggtitle("Actual") +
      theme(
        panel.background = element_blank(),
        plot.title = titleFormat,
        axis.title.y = element_blank(),
        axis.text = element_blank(),
        axis.ticks = element_blank(),
        legend.position = "none"
      )
  } else if (selectedState %in% atLarge | selectedState == "Hawaii") {
    ggplot() + 
      geom_sf(
        stateData(selectedState),
        mapping = aes(fill = party),
        size = 0.75,
        color = "black"
      ) +
      scale_fill_manual(values = c("R" = "#D20F26", "D" = "#1B4E81")) +
      ggtitle("Actual") +
      theme(
        panel.background = element_blank(),
        plot.title = titleFormat,
        axis.title.y = element_blank(),
        axis.text = element_blank(),
        axis.ticks = element_blank(),
        legend.position = "none"
      )
  } else {
    ggplot() + 
      geom_sf(
        stateData(selectedState),
        mapping = aes(fill = party),
        size = 0.75,
        color = "black"
        ) +
      geom_text_repel(
        stateData(selectedState),
        mapping = aes(X, Y, label = district_label), 
        fontface = "bold",
        size = 5,
        segment.linetype = 1,
        max.overlaps = 10
        ) +
      scale_fill_manual(values = c("R" = "#D20F26", "D" = "#1B4E81")) +
      ggtitle("Actual") +
      theme(
        panel.background = element_blank(),
        plot.title = titleFormat,
        axis.title.y = element_blank(),
        axis.text = element_blank(),
        axis.title.x = element_blank(),
        axis.ticks = element_blank(),
        legend.position = "none"
        )
    }
  }
}

# plotDistrict <- function for plotting party affiliation of a district's 
#                 representative

plotDistrict <- function(selectedState, selectedDistrict) {
  if (selectedDistrict == "") {return(NULL)}
  else {
    ggplot() + 
      geom_sf(
        districtData(selectedState, selectedDistrict),
        mapping = aes(fill = party), 
        size = 0.75, 
        color = "black"
      ) +
      scale_fill_manual(values = c("R" = "#D20F26", "D" = "#1B4E81")) +
      labs(title = selectedDistrict) +
      theme(
        panel.background = element_blank(),
        plot.title = element_text(
          hjust = 0.5, size = 18, family = "NewCenturySchoolbook"
        ),
        axis.text = element_blank(),
        axis.ticks = element_blank(),
        legend.position = "none"
      )
  }
}
```

\  

|   **Democrat and Republican district subsets** for use in randomly selecting districts from each party.

```{r}
democrat   <- modelData %>% filter(party == "D")
republican <- modelData %>% filter(party == "R")

sprintf("(D: %d, R: %d)", nrow(democrat), nrow(republican))
```

\  

#### **Race**
```{r}
set.seed(50)  

d1 <- rownames(democrat) %>% sample(1) 
r1 <- rownames(republican) %>% sample(1)

sprintf("Democrat:   %s", d1)
sprintf("Republican: %s", r1)
```

```{r include=FALSE}
racesd1 <- c(
  paste(
    "American Indians",
    paste(round(modelData[d1, "amerindian"], 2), "%", sep = ""),
    sep = ": "
    ),
  paste(
    "Asians", paste(round(modelData[d1, "asian"], 2), "%", sep = ""), sep = ": "
    ),
  paste(
    "Blacks", paste(round(modelData[d1, "black"], 2), "%", sep = ""), sep = ": "
    ),
  paste(
    "Pacific Islanders",
    paste(round(modelData[d1, "islander"], 2), "%", sep = ""),
    sep = ": "
    ),
  paste(
    "Multiracial Persons",
    paste(round(modelData[d1, "multiracial"], 2), "%", sep = ""),
    sep = ": "
    ),
  paste(
    "Persons of Other Races",
    paste(round(modelData[d1, "other_race"], 2), "%", sep = ""),
    sep = ": "
    ),
  paste(
    "Whites", paste(round(modelData[d1, "white"], 2), "%", sep = ""), sep = ": "
    )
  )
```

```{r}
ggplot(
  data = chartData(d1, colnames(modelData)[6:12], n_seed = 435),
  aes(x = "", y = Freq, fill = sampleVec)
  ) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar("y", start = 0) +
  theme_minimal() +
  ggtitle(d1) +
  scale_fill_discrete(name = "", labels = racesd1) +
  theme(
    plot.title = element_text(
      size = 24, hjust = 0.5, family = "NewCenturySchoolbook"
      ),
    axis.text.x = element_blank(),
    axis.text.y = element_blank(),
    axis.title.x = element_blank(),
    axis.title.y = element_blank()
  )
```

```{r include=FALSE}
racesr1 <- c(
  paste(
    "American Indians",
    paste(round(modelData[r1, "amerindian"], 2), "%", sep = ""),
    sep = ": "
    ),
  paste(
    "Asians", paste(round(modelData[r1, "asian"], 2), "%", sep = ""), sep = ": "
    ),
  paste(
    "Blacks", paste(round(modelData[r1, "black"], 2), "%", sep = ""), sep = ": "
    ),
  paste(
    "Pacific Islanders",
    paste(round(modelData[r1, "islander"], 2), "%", sep = ""),
    sep = ": "
    ),
  paste(
    "Multiracial Persons",
    paste(round(modelData[r1, "multiracial"], 2), "%", sep = ""),
    sep = ": "
    ),
  paste(
    "Persons of Other Races",
    paste(round(modelData[r1, "other_race"], 2), "%", sep = ""),
    sep = ": "
    ),
  paste(
    "Whites", paste(round(modelData[r1, "white"], 2), "%", sep = ""), sep = ": "
    )
  )
```

```{r}
ggplot(
  data = chartData(r1, colnames(modelData)[6:12], n_seed = 435),
  aes(x = "", y = Freq, fill = sampleVec)
  ) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar("y", start = 0) +
  theme_minimal() +
  ggtitle(r1) +
  scale_fill_discrete(name = "", labels = racesr1) +
  theme(
    plot.title = element_text(
      size = 24, hjust = 0.5, family = "NewCenturySchoolbook"
      ),
    axis.text.x = element_blank(),
    axis.text.y = element_blank(),
    axis.title.x = element_blank(),
    axis.title.y = element_blank()
  )
```

|   From the two districts sampled above, **`r sprintf("%s District %s", strsplit(d1, split = " ")[[1]][1], strsplit(d1, split = " ")[[1]][2])`** and **`r sprintf("%s District %s", strsplit(r1, split = " ")[[1]][1], strsplit(r1, split = " ")[[1]][2])`**, we can see clearly that the former, a Democratic district has a greater degree of racial diversity compared with the latter. In the former *whites* make up only `r strsplit(racesd1[length(racesd1)], split = " ")[[1]][2]` of the population compared with the latter's `r strsplit(racesr1[length(racesr1)], split = " ")[[1]][2]`, a difference of `r abs(modelData[d1, "white"] - modelData[r1, "white"]) %>% round(2)`%. *Asians* also make up around `r round(modelData[d1, "asian"] / modelData[r1, "asian"], 0)` times the percentage of total population in the `r strsplit(d1, split = " ")[[1]][1]` district, compared to that of the `r strsplit(r1, split = " ")[[1]][1]` district. The percentage of *persons of other races* is also higher in the Democratic district compared with that of the Republican. As noted in an [article](https://medium.com/swlh/democrat-or-republican-politics-and-logistic-regression-7639648be5f0) sharing the findings of the original project, this relationship between race and party affiliation should be viewed of as one of correlation rather than of causation. Whites do not vote Republican regardless of where they live as the causational interpretation may suggest; rather, those who live in more rural, less racially diverse parts of the country do. As my reader will see below, race along with the other *high importance* factors stated above are largely surrogates for population density.

\  

|   As of the 2016 congressional race, **`r sprintf("%s District %s", strsplit(d1, split = " ")[[1]][1], strsplit(d1, split = " ")[[1]][2])`** ranked the 17th highest in population density, with **`r sprintf("%s District %s", strsplit(r1, split = " ")[[1]][1], strsplit(r1, split = " ")[[1]][2])`** lower, in the 130th place.^[Chase, “Each Congressional District, Ranked by Population Density, Colored by Political Party of the Representative,” Overflow Data, June 15, 2017, https://overflow.solutions/special-projects/each-congressional-district-ranked-by-population-density-colored-by-political-party-of-the-representative/.; All subsequent population density rankings referenced herein are also taken from this source.]


\  

#### **Place of Birth**
```{r}
set.seed(13)  

d2 <- rownames(democrat) %>% sample(1) 
r2 <- rownames(republican) %>% sample(1)

sprintf("Democrat:   %s", d2)
sprintf("Republican: %s", r2)
```

```{r}
birthplaceGrouping <- c(
  "Natural-born", "Natural-born", "Natural-born", "Naturalized", "Natural-born"
  )

birthplaceLabels <- c(
  "Born Abroad or in US Territory",
  "Born in State",
  "Born Out of State",
  "Foreign-born",
  "Natural Born"
  )
```


```{r}
d2Data <- chartData(d2, colnames(modelData)[18:22], n_seed = 42)
d2Data$group <- birthplaceGrouping

ggplot(data = d2Data[1:4, ], aes(x = group, y = Freq)) +
        geom_bar(stat = "identity", position = "dodge", aes(fill = sampleVec)) +
        theme_minimal() +
        scale_fill_discrete(name = "", labels = birthplaceLabels) +
        scale_y_continuous(
          labels = comma_format(big.mark = ",", decimal.mark = ".")
        ) +
        ggtitle(d2) +
        theme(
          plot.title = element_text(
            size = 24, hjust = 0.5, family = "NewCenturySchoolbook"
            ),
          axis.title.x = element_blank(),
          axis.title.y = element_blank()
        )
```

```{r}
r2Data <- chartData(r2, colnames(modelData)[18:22], n_seed = 42)
r2Data$group <- birthplaceGrouping

ggplot(data = r2Data[1:4, ], aes(x = group, y = Freq)) +
        geom_bar(stat = "identity", position = "dodge", aes(fill = sampleVec)) +
        theme_minimal() +
        scale_fill_discrete(name = "", labels = birthplaceLabels) +
        scale_y_continuous(
          labels = comma_format(big.mark = ",", decimal.mark = ".")
        ) +
        ggtitle(r2) +
        theme(
          plot.title = element_text(
            size = 24, hjust = 0.5, family = "NewCenturySchoolbook"
            ),
          axis.title.x = element_blank(),
          axis.title.y = element_blank()
        )
```

```{r}
birthplaceRows <- c(
  "Natural Born Citizen",
  "Born in State",
  "Born Out of State",
  "Born Abroad or in US Territory",
  "Foreign-born Citizen"
  )

d2Percentages <- t(modelData[d2, 18:22])
rownames(d2Percentages) <- birthplaceRows

r2Percentages <- t(modelData[r2, 18:22])
rownames(r2Percentages) <- birthplaceRows

d2Percentages
```

```{r}
r2Percentages
```

```{r include=FALSE}
source("notebook/ballotpediaScraper.R")
```

|   Continuing our analysis with two different sampled districts, **`r sprintf("%s District %s", strsplit(d2, split = " ")[[1]][1], strsplit(d2, split = " ")[[1]][2])`**, a Democratic district, and **`r sprintf("%s District %s", strsplit(r2, split = " ")[[1]][1], strsplit(r2, split = " ")[[1]][2])`**, a Republican district, we find that a higher ratio of *foreign-born citizens* to *natural-born citizens* seems to be indicative that a given voting district with vote Democrat. The vast majority of Americans nationwide are born with citizenship rather than are born non-citizens and later naturalized. According to the Census Bureau's *American Community Survery*, in 2014, the total population of the United States was estimated at `r floor(totalPop / 1000000)` million people. `r round((totalNatural / totalPop) * 100, 0)`% were natural-born citizens, compared to only `r round((totalNaturalized / totalPop) * 100, 0)`% naturalized citizens, with the remaining `r 100 - round((totalNatural / totalPop) * 100, 0) - round((totalNaturalized / totalPop) * 100, 0)`% being non-citizens.^[“State Demographics by Citizenship Status,” Ballotpedia, accessed April 3, 2021, https://ballotpedia.org/State_demographics_by_citizenship_status.] Given this fact, the magnitude of difference between the ratio of two voting districts' *foreign-born* populations is typically in the single digits or lower. This is the case here where the difference between the ratios of *foreign-born citizens* to the total between the `r strsplit(d2, split = " ")[[1]][1]` district and the `r strsplit(r2, split = " ")[[1]][1]` is only `r round(abs(d2Percentages["Foreign-born Citizen", d2] - r2Percentages["Foreign-born Citizen", r2]), 2)`%. This small magnitude of difference, on the micro-level can translate into a large difference in the political balance of a state on the macro-level. For instance, there may not be a double-digit difference when comparing most individual voting districts with regard to their ratio of *foreign-born* to *natural-born citizens*, but at the state level, these small differences add up. According to the above-mentioned source, California, an overwhelmingly Democratic state, has a population of 27% *naturalized citizens* compared to Republican West Virginia's 1.5%. Given that a great number of immigrants come from overseas or Latin America, with the former settling primarily in coastal, urban areas, these differences present further evidence for the population density hypothesis. By extension the difference in policy preferences between folks who live in urban versus rural and suburban areas translate into the differences in party affiliation we find between the above-sampled districts, and between Los Angeles and Charleston.

\   

|   **`r sprintf("%s District %s", strsplit(d2, split = " ")[[1]][1], strsplit(d2, split = " ")[[1]][2])`** ranked **335 highest in population density**, with **`r sprintf("%s District %s", strsplit(r2, split = " ")[[1]][1], strsplit(r2, split = " ")[[1]][2])`** slightly lower, in the **342th** place. The Democratic voting district's lower population density presents something of a problem for our hypothesis. It seems that geography and diversity itself also play roles in voter behavior independent of population density. We can speculate that the district's location on the West Coast coupled with the fact that it contains an Indian reservation both play a factor in the Democratic party's influence in the district. This latter trend can be seen in Arizona, where the model predicted that **Arizona District 1** containing part of the Navajo Nation would vote Republican when the district actually voted Democrat. It should also be noted that the **`r sprintf("%s District %s", strsplit(d2, split = " ")[[1]][1], strsplit(d2, split = " ")[[1]][2])`** also contains *Olympic National Park* which may artificially lower the district's population density.

```{r}
actualArizona    <- plotState("Arizona")
predictedArizona <- plotState("Arizona", predicted = TRUE)

grid.arrange(predictedArizona, actualArizona, ncol = 2)
```

\  

#### **Commuter Method**
```{r}
set.seed(1776)  

d3 <- rownames(democrat) %>% sample(1) 
r3 <- rownames(republican) %>% sample(1)

sprintf("Democrat:   %s", d3)
sprintf("Republican: %s", r3)
```


```{r}
ggplot(data = chartData(d3, colnames(modelData)[31:32]), aes(x = sampleVec, y = Freq)) +
        geom_bar(stat = "identity", position = "stack", aes(fill = sampleVec)) +
        theme_minimal() +
        scale_fill_discrete(
          name = "",
          labels = c("By Car (including carpooling)", "Walking / Public Transit")
          ) +
        scale_y_continuous(
          labels = comma_format(big.mark = ",", decimal.mark = ".")
        ) +
        ggtitle(d3) +
        theme(
          plot.title = element_text(
            size = 24, hjust = 0.5, family = "NewCenturySchoolbook"
            ),
          axis.text.x = element_blank(),
          axis.title.x = element_blank(),
          axis.title.y = element_blank()
        )
```

```{r}
ggplot(data = chartData(r3, colnames(modelData)[31:32]), aes(x = sampleVec, y = Freq)) +
        geom_bar(stat = "identity", position = "stack", aes(fill = sampleVec)) +
        theme_minimal() +
        scale_fill_discrete(
          name = "",
          labels = c("By Car (including carpooling)", "Walking / Public Transit")
          ) +
        scale_y_continuous(
          labels = comma_format(big.mark = ",", decimal.mark = ".")
        ) +
        ggtitle(r3) +
        theme(
          plot.title = element_text(
            size = 24, hjust = 0.5, family = "NewCenturySchoolbook"
            ),
          axis.text.x = element_blank(),
          axis.title.x = element_blank(),
          axis.title.y = element_blank()
        )
```

|   The comparison here between Democrat-held **`r sprintf("%s %s District %s", strsplit(d3, split = " ")[[1]][1], strsplit(d3, split = " ")[[1]][2], strsplit(d3, split = " ")[[1]][3])`** and Republican-held **`r sprintf("%s District %s", strsplit(r3, split = " ")[[1]][1], strsplit(r3, split = " ")[[1]][2])`** is an even more obvious indicator of the relationship between population density and party affiliation. People who live and work in or near large cities tend to use public transit or simply walk to work more often than those who live in rural and suburban communitites. In this case, **`r sprintf("%s %s District %s", strsplit(d3, split = " ")[[1]][1], strsplit(d3, split = " ")[[1]][2], strsplit(d3, split = " ")[[1]][3])`**, being very near to the most populous city in the country, would naturally have a higher ratio of folks who walk or take public transit to those who commute by car, than **`r sprintf("%s District %s", strsplit(r3, split = " ")[[1]][1], strsplit(r3, split = " ")[[1]][2])`**. The difference in the percentage of pedestrians and those who take public transit to work the total number of commuters between these two districts is `r round(abs(modelData[d3, "walking_public_transit"] - modelData[r3, "walking_public_transit"]), 2)`%.

\  

|   The former ranked **110th in population density**, with the latter ranked **the 351st most densely populated.**

#### **Housing**
```{r}
set.seed(1865)  

d4 <- rownames(democrat) %>% sample(1) 
r4 <- rownames(republican) %>% sample(1)

sprintf("Democrat:   %s", d4)
sprintf("Republican: %s", r4)
```

```{r}
ggplot(data = chartData(
  d4, colnames(modelData)[40:41], n_seed = 42), aes(x = sampleVec, y = Freq)
  ) +
  geom_bar(
    stat = "identity",
    position = "stack",
    aes(fill = sampleVec),
    ) +
  theme_minimal() +
  scale_fill_discrete(
    name = "", labels = c("Owner Occupied Units", "Renter Occupied Units")
    ) +
  scale_y_continuous(
    labels = comma_format(big.mark = ",", decimal.mark = ".")
    ) +
  ggtitle(d4) +
  theme(
    plot.title = element_text(
            size = 24, hjust = 0.5, family = "NewCenturySchoolbook"
            ),
    axis.text.x = element_blank(),
    axis.title.x = element_blank(),
    axis.title.y = element_blank() 
  )
```

```{r}
ggplot(data = chartData(
  r4, colnames(modelData)[40:41], n_seed = 42), aes(x = sampleVec, y = Freq)
  ) +
  geom_bar(
    stat = "identity",
    position = "stack",
    aes(fill = sampleVec),
    ) +
  theme_minimal() +
  scale_fill_discrete(
    name = "", labels = c("Owner-occupied Units", "Renter-occupied Units")
    ) +
  scale_y_continuous(
    labels = comma_format(big.mark = ",", decimal.mark = ".")
    ) +
  ggtitle(r4) +
  theme(
    plot.title = element_text(
            size = 24, hjust = 0.5, family = "NewCenturySchoolbook"
            ),
    axis.text.x = element_blank(),
    axis.title.x = element_blank(),
    axis.title.y = element_blank() 
  )
```

|   Another obvious stand-in for population density can be found in the ratios of *owner-occupied units* to total housing units and of *renter-occupied units*. Echoing advice attributed to **Mark Twain** to *"buy land, they aren't making any more of it,"* the comparative scarcity of land in and immediately around urban parts of the country drives the price of land up. This makes homeownership a less attractive option for those living in these areas. This case is demonstrated here, with **`r sprintf("%s District %s", strsplit(d4, split = " ")[[1]][1], strsplit(d4, split = " ")[[1]][2])`**'s percentage of Owner-occupied Units to the total being `r round(modelData[d4, "owner_occupied"], 2)`%, `r round(abs(modelData[d4, "owner_occupied"] - modelData[r4, "owner_occupied"]), 2)`% lower than that of **`r sprintf("%s District %s", strsplit(r4, split = " ")[[1]][1], strsplit(r4, split = " ")[[1]][2])`**.

\  

#### **Summary**

|   Although the **Washington 6th District** did present something of a problem for the *population density hypothesis*, aggregate data do indeed demonstrate that the pattern typically holds true. According to the 2014 *American Community Survey*, 89 out of the top 100 most densely populated congressional districts were represented by Democrats, and 81 out of the 100 least densely populated congressional districts were represented by Republicans. The difference in values and in the interest groups found in urban areas versus those found in rural areas often translate into this difference in party preference.

\ 

|   The former ranked **31st in population density**, with the latter ranked **the 350th most densely populated.**

```{r}
set.seed(1980)  

d5 <- rownames(democrat) %>% sample(1) 
r5 <- rownames(republican) %>% sample(1)

sprintf("Democrat:   %s", d5)
sprintf("Republican: %s", r5)
```

```{r}
ggplot(data = modelData, aes(x = med_rent)) +
  geom_density(alpha = .2) +
  geom_vline(
    aes(xintercept = as.integer(getRent(d4))),
    colour = "blue",
    linetype ="longdash",
    size = .8
  ) +
  geom_vline(
    aes(xintercept = as.integer(getRent(r4))),
    colour = "red",
    linetype ="longdash",
    size = .8
  ) +
  theme_minimal() +
  scale_y_continuous(labels = comma_format(big.mar = ",", decimal.mark = ".")) +
  ylab("Density") +
  xlab("Median Rent")
```

```{r include=FALSE}
mrDensity <- density(modelData$med_rent)
mrDensity.frame <- data.frame(x = mrDensity$x, y = mrDensity$y)

gm <- mrDensity.frame %>% subset(y == max(y)) %>% .[1, "x"] %>% round(.)
```

|   Expanding on the relationship between homeownership and rental ratios, population density, and party affiliation, here we see that the value of land also pushes rental prices up. Here **`r sprintf("%s District %s", strsplit(r5, split = " ")[[1]][1], strsplit(r5, split = " ")[[1]][2])`**'s *median monthly rent*, $`r getRent(r5)` is only marginally lower than above-shown distribution plot's global maximum, $`r gm`. Compare this to **`r sprintf("%s District %s", strsplit(d5, split = " ")[[1]][1], strsplit(d5, split = " ")[[1]][2])`**'s *median monthly rent* $`r getRent(d5)`. The absolute difference between Democratic district's median monthly rent and the global maximum is over `r floor(abs(as.numeric(getRent(d5)) - gm) / abs(as.numeric(getRent(r5)) - gm))` times that of the Republican district. These greater rent prices are a strong indicator of one of the primary reasons people who live in more densely populated areas would choose Democratic representation over Republican representation. The former party's rhetoric likely appeals to many who feel that [*"rent is too damn high!"*](https://www.youtube.com/watch?v=79KzZ0YqLvo). Unfortunately, those who push for rent control are either ignorant of or willfully unconcerned with [Basic Economics](https://www.nationalreview.com/2016/11/basic-economics-supply-demand-refutes-minimum-wage-rent-control-laws/).

\ 
 
|   **`r sprintf("%s District %s", strsplit(d5, split = " ")[[1]][1], strsplit(d5, split = " ")[[1]][2])`** ranked **21st in population density**. **`r sprintf("%s District %s", strsplit(r5, split = " ")[[1]][1], strsplit(r5, split = " ")[[1]][2])`** ranked **255th in population density**.

# Flipped Districts

|   Now we turn our attention to those seats which the Democrats and Republicans gained over each other in the 2020 House Election.

## Democratic Gains^[“Election Results, 2020: Control of the U.S. House.” Ballotpedia. Accessed April 3, 2021. https://ballotpedia.org/Election_results,_2020:_Control_of_the_U.S._House.]

| District                  | Representative    |
| ------------------------- | ----------------- |
| Georgia District 7        | [Carolyn Bourdeaux](https://www.congress.gov/member/carolyn-bourdeaux/B001312?searchResultViewType=expanded) |
| North Carolina District 2 | [Deborah Ross](https://www.congress.gov/member/deborah-ross/R000305?s=7&r=1904&searchResultViewType=expanded) |
| North Carolina District 6 | [Kathy Manning](https://www.congress.gov/member/kathy-manning/M001135?s=8&r=1424&searchResultViewType=expanded) | 

## Republican Gains^[Republican Peter Meijer's victory over Libertarian Justin Amash has been excluded. This decision has been made in light of the fact that the latter is a former Republican and the two parties arguably have more in common ideologically compared with the differences between Democrats and Republicans.]

| District                  | Representative           |
| ------------------------- | ------------------------ |
| California District 21    | [David G. Valadao](https://www.congress.gov/member/david-valadao/V000129?s=5&r=2264&searchResultViewType=expanded) |
| California District 39    | [Young Kim](https://www.congress.gov/member/young-kim/K000397?s=6&r=1241&searchResultViewType=expanded) |
| California District 39    | [Michelle Steele](https://www.congress.gov/member/michelle-steel/S001135?s=9&r=2125&searchResultViewType=expanded) |
| Florida District 26       | [Carlos Giminez](https://www.congress.gov/member/carlos-gimenez/G000593?s=4&r=845&searchResultViewType=expanded) |
| Florida District 27       | [Maria Elvira Salazar](https://www.congress.gov/member/maria-salazar/S000168?s=7&r=1948&searchResultViewType=expanded) |
| Iowa District 1           | [Ashley Hinson](https://www.congress.gov/member/ashley-hinson/H001091?s=6&r=1053&searchResultViewType=expanded) |
| Iowa District 2           | [Mariannette Miller-Meeks](https://www.congress.gov/member/mariannette-miller-meeks/M001215?s=10&r=1564&searchResultViewType=expanded) |
| Minnesota District 7      | [Michelle Fischback](https://www.congress.gov/member/michelle-fischbach/F000470?s=2&r=736&searchResultViewType=expanded) |
| New Mexico District 2     | [Yvette Herrell](https://www.congress.gov/member/yvette-herrell/H001084?s=6&r=1031&searchResultViewType=expanded) |
| New York District 11      | [Nicole Malliotakis](https://www.congress.gov/member/nicole-malliotakis/M000317?s=8&r=1416&searchResultViewType=expanded) |
| New York District 22      | [Claudia Tenney](https://www.congress.gov/member/claudia-tenney/T000478?s=9&r=2200&searchResultViewType=expanded) |
| Oklahoma District 5       | [Steaphanie Bice](https://www.congress.gov/member/stephanie-bice/B000740?s=3&r=161&searchResultViewType=expanded) |
| South Carolina District 1 | [Nancy Mace](https://www.congress.gov/member/nancy-mace/M000194?s=8&r=1400&searchResultViewType=expanded) |
| Utah District 4           | [Burgess Owens](https://www.congress.gov/member/burgess-owens/O000086?s=10&r=1703&searchResultViewType=expanded) |

## Methodology  

|   For the purpose of brevity, before digging into individual districts, we will first examine what characterizes them as a group. In an effort to best compare these **flipped districts** as a group to **non-flipped Republican and Democratic districts**, the un-scaled form of the data used in the model above has been converted into distances from the peak of each feature's density distribution. Due to the often-skewed nature of these density distributions, The data were then scaled, further aiding in our comparison. Below is a helper function to aid in visualizing these scaled comparisons with box-plots. Note that in each box-plot, the *blue* indicates *non-flipped Democratic districts*, *red* plot indicates *non-flipped Republican districts*, and *purple* indicates *flipped districts*.

\  

```{r}
plotBox <- function(statistic, title_) {
  ggplot(gdScaled, aes(y = flipped, x = statistic)) +
    geom_boxplot(mapping = aes(fill = flipped)) +
    stat_summary(geom = "point", fun = "mean") +
    scale_fill_manual(
      values = c(
        "Flipped" = "#853DCC",
        "Democrat - Not Flipped" = "#1B4E81",
        "Republican - Not Flipped" = "#D20F26"
      )
    ) +
    labs(fill = "") +
    ggtitle(title_) +
    theme_minimal() +
    theme(
      plot.title = element_text(hjust = 0.5, size = 18, family = "Canonical"),
      legend.position = "none",
      axis.title.x = element_blank(),
      axis.title.y = element_blank(),
      axis.text.y = element_blank(),
      axis.ticks.y = element_blank()
    )
}
```

## Findings
### Ethnicity
```{r}
plotBox(gdScaled$hispanic, "Hispanic Population")
```

```{r include=FALSE}
hispanicBreakdown <- read_csv("data/census/demographics/preprocessed/hispanicBreakdown.csv")
```

\  

|   Examining the above-shown box-plot, the reader will see that a number of *flipped districts* had statistically significant Hispanic populations, **California's 21st District**, **Florida's 26th and 27 Districts**, and **New Mexico's 2nd District**. In addition to these, **New York's 11th and 22nd Districts** also had substantial Puerto Rican populations. Discussing the former group, Mexicans were over-represented among Hispanics in **California's 21st District** at `r round(modelData["California 21", "mexican"], 2)`% and in **New Mexico's 2nd District** at `r round(modelData["New Mexico 2", "mexican"], 2)`%. Hispanics in **Florida's 26th and 27th Districts** comprising Monroe County and sections of Miami-Dade County were more diverse in their origins. Cubans made up a slim majority of Hispanics in both districts comprising `r round(modelData["Florida 26", "cuban"], 2)`% in the former, and `r round(modelData["Florida 27", "cuban"], 2)`% in the latter. The 2018 American Community Survey's breakdown of all Hispanic groups in the Monroe and Miami-Dade Counties is shown in the tables below.

\  

#### **Monroe County**
```{r echo=FALSE}
hispanicBreakdown %>% subset(County == "Monroe County, Florida") %>% select(2, 3)
```

#### **Miami-Dade County**
```{r echo=FALSE}
hispanicBreakdown %>% subset(County == "Miami-Dade County, Florida") %>% select(2, 3)
```

\  

|   Examining the tables above, we find a few potential explanations for the shift from Democratic to Republican candidates. As mentioned above, Cubans form the majority of the Hispanic population in both counties and in both districts. Both victorious Republican candidates, **Carlos Giminéz** and **Maria Elvira Salazar**, are of Cuban origin and ran against opponents of Ecuadorian and Lebanese origins respectively. The Republican Party's anti-socialist rhetoric likely appealed to the Cuban majority, along with the growing Venezuelan population, both groups having fled failed socialist states. The Colombian population, comprising `r round(hispanicBreakdown %>% subset(County == "Miami-Dade County, Florida") %>% select(2, 3) %>% .[17, ] %>% pull(percentage), 2)`% of Miami-Dade County's Hispanic population, were likely also influenced by this rhetoric and Republicans' stance on immigration given that Columbia is currently dealing with the the humanitarian challenge posed by the recent influx Venezuelan refugees.

\  

|   Considering the Puerto Rican question, it is not likely that a Puerto Rican plurality among Hispanics had any substantial effect as to **New York's 11th and 22nd** Districts flip to Republican candidates. `r gmDistance[order(gmDistance$puerto_rican, decreasing = TRUE), c("hispanic", "mexican", "cuban", "puerto_rican", "other_hispanic", "flipped")] %>% head(50) %>% .$flipped %>% table() %>% as.data.frame() %>% .[2, "Freq"]` out of the 50 districts with the highest representation of Puerto Ricans among Hispanics voted Democrat. This ratio is only marginally higher than the balance of Democrat to Republican seats nationwide. A substantial amount of time has elapsed since the most Puerto Ricans came to the continental United States. At this point, most have assimilated into American society, casting of any form of monolithic political identity they may have had upon arrival. Their representation among the Democratic party, therefore, is more of a reflection of where they settled, the East Coast and Hawaii.

\  

|   Though the distributions shown in the above and subsequent box-plots do provide fertile ground for reasonable speculation, it is important to note the small sample of 14 *flipped districts*. Due to this small sample size, fewer extreme values are likely to be classified as outliers when compared to the sample of over 200 districts per party that did not flip. The reader will find that, as with this demographic, the human elements of *who is running for office*, and *what their platform includes* will likely have far more to do with whether *individual voters* in a given district will vote for that candidate on election day.

### Place of Birth
```{r}
naturalBorn <- plotBox(gdScaled$natural_born_citizen, "Natural-born Citizens")
naturalized <- plotBox(gdScaled$foreign_born, "Naturalized Citizens")

grid.arrange(naturalBorn, naturalized, nrow = 2)
```

\  

|   The opposite distributions in the above-shown box-plot communicate the very same thing that the ethnicity box plot does. Within the sample of *flipped districts*, the two districts with statistically significant immigrant populations of *naturalized citizens* are **Florida's 26th and 27th districts**. These two districts also have statistically significant populations of *natural born citizens* who were *born abroad*. Since this latter category includes individuals born to United States citizens in foreign countries, or in U.S. territories such as Puerto Rico, it is only natural that districts with a high *naturalized immigrant* population would also have a high rate of *natural-born citizens born abroad*. *Place of birth* within the United States among *natural-born citizens* also seems to be an indicator of whether a district would flip or not. This is discussed further in the race section.

### Age
```{r}
seniors <- plotBox(gdScaled$seniors, "Seniors")
med_age <- plotBox(gdScaled$med_age, "Median Age")

grid.arrange(seniors, med_age, nrow = 2)
```

|   The *flipped districts* have a lower average and median percentage of senior citizens compared to their *non-flipped Republican* counterparts. These percentages are not unusual, given that they still lie within 2 standard deviations below and 1 standard deviation above the mean. Overall, however, most *flipped* districts were not characterized by this. The left-skewing observed here is due largely to the fact that **California's 21st District and Utah's 4th District** are the districts with the 6th and 16th lowest percentage of senior citizens in the country respectively. `r gmDistance[order(gmDistance$seniors), c("seniors", "med_age", "flipped")] %>% head(25) %>% .$flipped %>% table() %>% as.data.frame() %>% .[2, "Freq"]` out of the bottom 25 districts ranked by percentage of senior citizens voted Democrat, compared to `r gmDistance[order(gmDistance$senior, decreasing = TRUE), c("seniors", "med_age", "flipped")] %>% head(25) %>% .$flipped %>% table() %>% as.data.frame() %>% .[1, "Freq"]` out of the top 25 districts in this category which voted Republican. Looking at median age, California's 21st District and Utah's 4th District ranked in the 2nd and 11th lowest places respectively. Out of the 15 states with the lowest median ages, `r gmDistance[order(gmDistance$med_age), c("seniors", "med_age", "flipped")] %>% head(15) %>% .$flipped %>% table() %>% as.data.frame() %>% .[2, "Freq"]` voted Democrat compared to `r (gmDistance[order(gmDistance$med_age), c("seniors", "med_age", "flipped")] %>% head(15) %>% .$flipped %>% table() %>% as.data.frame() %>% .[1, "Freq"]) + (gmDistance[order(gmDistance$med_age), c("seniors", "med_age", "flipped")] %>% head(15) %>% .$flipped %>% table() %>% as.data.frame() %>% .[3, "Freq"])` voting Republican. The opposite trend can be noted with `r gmDistance[order(gmDistance$med_age, decreasing = TRUE), c("seniors", "med_age", "flipped")] %>% head(15) %>% .$flipped %>% table() %>% as.data.frame() %>% .[1, "Freq"]` out of the top 15 oldest districts voting Republican. In the context of this general pattern, these two may have *flipped Republican in spite of their younger populations*.

\  

|   These two districts allow for an interesting comparison. The California District's current boundaries were redrawn, and the Utah District was created for the 113th congress. Accounting for redistricting, this allows us to observe partisan voting trends in the geographic areas now covered by these two districts since and immediately prior to redistricting. For the purposes of this examination, I have chosen to begin with the 104th congress elected at the end of 1994. This cutoff point is significant in that it marks the exodus of the South's last Conservative Democrats from the party of Andrew Jackson.

\  

```{r echo=FALSE}
cali20 <- c(
  "104" = "D", "105" = "D", "106" = "D", "107" = "D", "108" = "D", "109" = "D",
  "110" = "D", "111" = "D", "112" = "D", "113" = "D", "114" = "D", "115" = "D",
  "116" = "D", "117" = "D"
)

cali21 <- c(
  "104" = "R", "105" = "R", "106" = "R", "107" = "R", "108" = "R", "109" = "R",
  "110" = "R", "111" = "R", "112" = "R", "113" = "R", "114" = "R", "115" = "R",
  "116" = "D", "117" = "R"
)

cali <- data.frame(`California 20` = cali20, `California 21` = cali21)
cali$California.21[1:9] <- cali$California.20[1:9]
cali$Congress <- rownames(cali)

utah2 <- c(
  "104" = "R", "105" = "R", "106" = "R", "107" = "D", "108" = "D", "109" = "D",
  "110" = "D", "111" = "D", "112" = "D", "113" = "R", "114" = "R", "115" = "R",
  "116" = "R", "117" = "R"
)

utah4 <- c(
  "104" = NA, "105" = NA, "106" = NA, "107" = NA, "108" = NA, "109" = NA,
  "110" = NA, "111" = NA, "112" = NA, "113" = "D", "114" = "R", "115" = "R",
  "116" = "D", "117" = "R"
)

utah <- data.frame(`Utah 2` = utah2, `Utah 4` = utah4)
utah$Utah.4[1:9] <- utah$Utah.2[1:9]
utah$Congress <- rownames(utah)

caliUtah <- merge(
  utah[, c("Congress", "Utah.4")],
  cali[, c("Congress", "California.21")],
  by = "Congress"
  )
rownames(caliUtah) <- NULL
caliUtah
```

\  
 
|   Examining the above chart the reader can see that the Utah District has been held a roughly equal number of congress by Democrat and Republican candidates during the period in question. **Utah's 4th District** is a prime example of the **Urban Center of Red State Hypothesis**. The details of this hypothesis how it relates to the **4th District** will be outlined in a later section. Utah voters, though conservative, have been more pragmatic than ideological regarding their choice of candidate. During the period comprising the 107th through 113th congresses, the Utah 2nd and later 4th congressional district was held by Democrat James Matheson, son of Scott Matheson, Utah's most recent Democratic Governor. The younger Matheson's affiliation with the Democratic party owes more to the fact that his father was a native of Illinois than to any ideological justification. James Matheson was arguably one of the few remaining Conservative Democrats. He supported a continued American presence in the Iraq war in 2007 when many in his party were calling for withdrawal by Semptember of the next year^[Soragahan, Mike, and Manu Raju. “Key Vote on the Iraq War Keeps House GOP United.” The Hill . July 13, 2007.], and he opposed the Affordable Care Act^[Romboy, Dennis. “Jim Matheson Joins House GOP in Vote to Repeal Health Care Act.” Deseret News. July 11, 2012.]. This focus on policy would also explain why Ben McAdams, the last Democrat to hold the seat at the time of this writing, lost re-election. A successful campaign by Republicans demonstrating that McAdams had allowed local taxes to go up while serving as Salt Lake County Mayor, contributed to McAdams' and the Democrats' loss of **Utah's 4th District.** It would seem that the concrete effects a given policy decision has on constituents is the ultimate long-term determinant as to who will be elected. Demographics may influence policy preferences, but experience ultimately wins out in the end.

\  

|   The case of **California District 21** is curious. Even accounting for redistricting, the loss of much of Fresno shifted the district from Democrat to Republican. In fact Democrat James Costa who held the seat at the time of its last redistricting reran for the California District 16 seat and, at the time of this writing, is still the incumbent there.^[“Jim Costa.” Ballotpedia. Accessed April 3, 2021. https://ballotpedia.org/Jim_Costa.] Though Republican **David Valadão**'s views on most issues ranging from the environment, to social welfare, to homosexuality, are decidedly conservative, he was ranked the 42nd most bipartisan member of congress according to the Lugar Center's Bipartisan Index of the 114th Congress.^[“Bipartisan Index -- 114th Congress, House of Representatives.” Bipartisan Index. Lugar Center, McCourt School of Public Policy. Accessed April 3, 2021. https://www.thelugarcenter.org/ourwork-Bipartisan-Index.html?eType=EmailBlastContent&amp;eId=20abfc4c-e01c-49d2-8a26-5d420d4918fb. ] It would seem a reasonable, albeit unconfirmed, hypothesis that members of congress occupying seats which *flip party* more frequently would be likely to score higher on the Bipartisan Index. From this we can infer that the constituencies of these districts likely include a more varied range of interest groups compared to those districts which tend to consistently vote for candidates from a single party. Many of these interest groups lie outside of the realm of the demographics discussed here. Investigation of which interest groups do contribute to the flipped districts presents a fertile field for further study.

### Race
```{r}
white <- plotBox(gdScaled$white, "Whites")
black <- plotBox(gdScaled$black, "Blacks")

grid.arrange(white, black, nrow = 2)
```

\  

```{r include=FALSE}
asianBreakdown <- read_csv("data/census/demographics/preprocessed/asianBreakdown.csv")
```

|   From the above box-plot showing the standardized percentage of *whites*, the reader can see that the *flipped districts'* distribution roughly matches that of the *non-flipped Republcan districts*, but is somewhat more racially diverse. This greater degree of *groups of non-European origin* are found in a number of the *flipped districts*. **California's 21 District** has a rather high population of *persons of other race*, comprising `r round(modelData["California 21", "other_race"], 2)`% of the total. **California's 39th and 48th Districts** both have high *Asian populations* `r round(modelData["California 39", "asian"], 2)`% and `r round(modelData["California 48", "asian"], 2)`% of their respective totals. Both these districts Republican victors are *Korean* women, not surprising given that *Los Angeles and Orange counties* have relatively high *Korean* populations. *Koreans* make up roughly 15% of the Asian population of both counties, or roughly 3.75 - 5.00% of the total population of both districts. Though *Korean Americans* living in these two counties do not constitute a large enough group to single-handedly decide the an election, in situations such as the elections in these two districts where the margin of victory was less than *2.5%*, it may have helped tip the scale in *Kim and Park*'s favor.

\  

|   Though the *Asian* population of **Georgia's 7th District** is not as great as the that of the **California Districts**, it is worth noting. *Asians* make up an estimated `r round(modelData["Georgia 7", "asian"], 2)`% of the district's population. Comparing the relative size of this district's *Asian* population compared to other districts in the state reveals something about not just the Georgia district, but most of the *flipped districts* not yet discussed in this paper.

\  

```{r echo=FALSE}
georgiaComparison <- data.frame(
  District = rownames(modelData[grepl("Georgia", rownames(modelData)), ]),
  app = modelData[grepl("Georgia", rownames(modelData)), "asian"],
  born_out_of_state = modelData[
    grepl("Georgia", rownames(modelData)), "born_out_of_state"
    ],
  Party = modelData[grepl("Georgia", rownames(modelData)), "party"]
  )

rownames(georgiaComparison) <- georgiaComparison$District

colnames(georgiaComparison)[2:3] <- c(
  "Asian Population (percent)", "Born Out of State (percent)"
  )

georgiaComparison <- georgiaComparison[gtools::mixedsort(georgiaAsian$District), ]
rownames(georgiaComparison) <- NULL

georgiaComparison
```

\  

|   As the reader can see, **Georgia's 6th and 7th** districts have much higher *Asian* populations compared to the rest of the state. It should be noted here that **Georgia's 6th District** flipped from *Republican* to *Democrat* in the 2018 House Election. The average of both district's percentage of *Asians* is `r round(mean(georgiaComparison[6:7, 2]) - mean(georgiaComparison[, 2]), 2)` percentage points greater than the percentage of *Asians* in the state as a whole. As with *whites*, this is not an indication that *Asians* tend to vote *Democrat* any more than *whites* tend to vote *Republican*. Rather, when viewed in the context provided by the the slightly higher percentage of *out-of-staters* found in these districts, this is an indication that the two districts in question are more *urban* than the rest of the state. 

\  

### Urban Center of Red State Hypothesis
|   In the context of the population density hypothesis outlined above, it becomes clear that some of the *flipped districts* are found in states which send a *Republican* majority to the House of Representatives. These urban centers, find themselves in a tug-of-war between the state's *Republican* majority, and the smaller but influential *Democratic Party establishment* at the county level. As outlined above, **Georgia's 6th and 7th Districts** are two examples. Even a cursory examination of the maps of the states maps hints at this finding.


#### **North Carolina**
```{r}
plotState("North Carolina")
```
```{r}
nc2   <- plotDistrict("North Carolina", "Congressional District 2")
nc6   <- plotDistrict("North Carolina", "Congressional District 6")

grid.arrange(nc2, nc6, ncol = 2)
```

\ 

|   Examining the maps of **North Carolina** and these two districts, we find that they are geographically smaller than many other districts. This is due to the fact that they contain the 1st, 3rd, and 4th most populous and most urban counties in the state.

\  

#### **South Carolina**
```{r}
sc  <- plotState("South Carolina")
sc1 <- plotDistrict("South Carolina", "Congressional District 1")

grid.arrange(sc, sc1, ncol = 2)
```

\  

|   Observing the map of **South Carolina**, we find yet another district which fits the bill. Only the part containing Charleston is urban, a possible indication as to why the Republicans have had an easier time holding the seat compared to other places discussed herein. It should also be noted that the state's **6th Congressional District** contains **Richland**, the state's second most populous county and has been *Democrat-held* since before the 1994 exodus of the South's Conservative Democrats.^[“South Carolina's 6th Congressional District.” Ballotpedia. Accessed April 3, 2021. https://ballotpedia.org/South_Carolina%27s_6th_Congressional_District.]

\  

#### **Oklahoma**
```{r}
plotState("Oklahoma")
```

|   Here we see that **Oklahoma's 5th District** contains most of **Oklahoma County**, the most populous part of the state. As a personal note, this seat was once filled by my paternal great-grandfather's cousin, one [**Fletcher B. Swank**](https://www.okhistory.org/publications/enc/entry.php?entry=SW001) -*pictured below*- from 1921 - 1929 and 1931 - 1935.

\  

<div align = "center">
  <img width = "202" height = "275" src = "data/images/FletcherBSwank.jpg">
</div>

\  

#### **Utah**
```{r}
plotState("Utah")
```

\  

|   **Utah's 4th Congressional District** contains much of Salt Lake County and the state's two most populous cities, Salt Lake City and West Valley City. Salt Lake and Summit Counties are the only two counties where the majority of voters cast their popular ballots against Donald Trump in 2016^[Utah State Lieutenant Govenor, Office of. “2016 General Election - Statewide Canvass 3.pdf.” State of Utah, n.d.] and 2020.^[Utah State Lieutenant Govenor, Office of. “2020-Statewide-General-Election-Canvass.pdf.” State of Utah, n.d.] Fortunately for *Republicans* and the interests of the majority of those born in the state, the latter county has been effectively Gerrymandered out of a candidate in the House of Representatives.


### Summary

|   From the above findings, the reader can see that answer to the question of what causes certain districts to *flip party* is found in many more factors than the relatively simple explanation of a district's *party affiliation* in general. Factors ranging from **ethnicity**, to **age**, to **place of birth** seem to play some factor, and the **urban center of red state hypothesis** seems to hold true in some of the cases outlined above. Ultimately, however, the interests and influences are often too specific and too local to give any one blanket explanation for all of the districts discussed herein, and further study is needed if we are to account for every sparrow's fall.